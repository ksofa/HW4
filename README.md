## Карпова Софья, ИДЗ-4, Вариант 25

### Задание

Задача о привлекательной студентке. У одной очень привлекательной студентки есть N поклонников. Традиционно в день св. Валентина очень привлекательная студентка проводит романтический вечер с одним из поклонников. Счастливый избранник заранее не известен. С утра очень привлекательная студентка получает N «валентинок» с различными вариантами романтического вечера. Выбрав наиболее заманчивое предложение, студентка извещает счастливчика о своем согласии, а остальных – об отказе. Требуется создать приложение, моделирующее поведение студентки. Каждый из студентов должен быть представлен отдельным клиентом. Студентка — сервер.

### Отчет

Преведено решение задачи на языке C на 10 баллов.

### Тестирование

Программа была протестирована на разных тестовых кейсах, ошибок не найдено. При тестировании производилось отключение сервера, клиента, наблюдателя в рандомный момент времени.

### Сборка

Для компиляции использовать:

```bash
gcc client.c -o client
gcc server.c -o test
gcc observer.c -o observer
```

Для запуска сервера использовать:

```bash
./server N
```
где N - количество валентинок, которое ожидает получить студентка.

Для запуска клиента использовать:

```bash
./client
```

Для запуска наблюдателя использовать:

```bash
./observer
```

### Пояснение

- 4-5 баллов: Описание работы:
  - Разработано клиент-серверное приложение.
  - Студентка - сервер, каждый поклонник - отдельный клиент.
  - При подключении поклонник добавляется в массив поклонников, при отключении - удаляется из него.
  - Как только набирается N поклонников происходит встреча.
  - Поклонник, с которым студентка идет на встречу, выбирается случайным образом из списка поклонников-клиентов.
  - Если поклонник отключится в самый последний момент перед встречей, то студентка идет гулять одна.
  - После встречи массив поклонников обн

уляется, и студентка готова к новой встрече.
  - Для завершения работы программы необходимо выключить сервер.

- 6-8 баллов:
  - В программу можно добавлять наблюдателя.
  - Каждый наблюдатель помещается в массив наблюдателей, ограничение определено в 100 наблюдателей на сервер.
  - При превышении ограничения сервер отказывает в подключении.
  - Наблюдатель выводит следующую информацию:
    1. Поклонник сбежал со встречи.
    2. Текущее количество валентинок и ожидаемое количество.
    3. Сообщение о начале встречи.

- 9 баллов:
  - В приложении можно подключать и отключать клиентов в любой момент времени без возникновения ошибок.

- 10 баллов:
  - При завершении работы программы сервер обрабатывает специальный сигнал SIGINT, в котором закрывает все соединения и освобождает ресурсы.
  - Внутри клиентов в свободной очереди предусмотрено получение сигнала о закрытии соединения с сервером и соответственное закрытие клиентов.